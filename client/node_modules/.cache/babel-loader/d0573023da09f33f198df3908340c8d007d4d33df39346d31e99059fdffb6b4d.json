{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\GAYATRI\\\\Desktop\\\\project\\\\client\\\\src\\\\components\\\\Admin\\\\OrderManagement.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useQuery, useMutation, useQueryClient } from 'react-query';\nimport { orders } from '../../services/api';\nimport LoadingSpinner from '../common/LoadingSpinner';\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst OrderManagement = () => {\n  _s();\n  const queryClient = useQueryClient();\n  const {\n    data: allOrders,\n    isLoading\n  } = useQuery('allOrders', orders.getAllOrders);\n  const updateOrderStatus = useMutation(async ({\n    orderId,\n    status\n  }) => {\n    await orders.updateStatus(orderId, {\n      status\n    });\n  }, {\n    onSuccess: () => {\n      queryClient.invalidateQueries('allOrders');\n      toast.success('Order status updated');\n    }\n  });\n  if (isLoading) return /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 25\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white shadow overflow-hidden sm:rounded-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-4 py-5 sm:px-6\",\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg leading-6 font-medium text-gray-900\",\n          children: \"All Orders\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"border-t border-gray-200\",\n        children: (allOrders === null || allOrders === void 0 ? void 0 : allOrders.length) > 0 ? /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"divide-y divide-gray-200\",\n          children: allOrders.map(order => /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"px-4 py-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-start\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm font-medium text-gray-900\",\n                  children: [\"Order ID: \", order._id]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 38,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-1 text-sm text-gray-500\",\n                  children: [\"Customer: \", order.user.email]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 41,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-1 text-sm text-gray-500\",\n                  children: [\"Date: \", new Date(order.createdAt).toLocaleDateString()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 44,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"text-sm font-medium text-gray-900\",\n                    children: \"Items:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 48,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                    className: \"mt-1 space-y-1\",\n                    children: order.items.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n                      className: \"text-sm text-gray-500\",\n                      children: [item.product.name, \" x \", item.quantity, \" - $\", item.price * item.quantity]\n                    }, item._id, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 51,\n                      columnNumber: 29\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 49,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 47,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-2 text-sm font-medium text-gray-900\",\n                  children: [\"Total: $\", order.total]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 57,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 37,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ml-6\",\n                children: /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: order.status,\n                  onChange: e => updateOrderStatus.mutate({\n                    orderId: order._id,\n                    status: e.target.value\n                  }),\n                  className: \"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"pending\",\n                    children: \"Pending\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 72,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"processing\",\n                    children: \"Processing\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 73,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"shipped\",\n                    children: \"Shipped\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 74,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"delivered\",\n                    children: \"Delivered\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 75,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"cancelled\",\n                    children: \"Cancelled\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 76,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 62,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 36,\n              columnNumber: 19\n            }, this)\n          }, order._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 35,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-8\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-500\",\n            children: \"No orders found\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 5\n  }, this);\n};\n_s(OrderManagement, \"oJ45V1XE3qwWxsnr43lk3cSayG0=\", false, function () {\n  return [useQueryClient, useQuery, useMutation];\n});\n_c = OrderManagement;\nexport default OrderManagement;\nvar _c;\n$RefreshReg$(_c, \"OrderManagement\");","map":{"version":3,"names":["React","useQuery","useMutation","useQueryClient","orders","LoadingSpinner","toast","jsxDEV","_jsxDEV","OrderManagement","_s","queryClient","data","allOrders","isLoading","getAllOrders","updateOrderStatus","orderId","status","updateStatus","onSuccess","invalidateQueries","success","fileName","_jsxFileName","lineNumber","columnNumber","className","children","length","map","order","_id","user","email","Date","createdAt","toLocaleDateString","items","item","product","name","quantity","price","total","value","onChange","e","mutate","target","_c","$RefreshReg$"],"sources":["C:/Users/GAYATRI/Desktop/project/client/src/components/Admin/OrderManagement.jsx"],"sourcesContent":["import React from 'react';\r\nimport { useQuery, useMutation, useQueryClient } from 'react-query';\r\nimport { orders } from '../../services/api';\r\nimport LoadingSpinner from '../common/LoadingSpinner';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst OrderManagement = () => {\r\n  const queryClient = useQueryClient();\r\n  const { data: allOrders, isLoading } = useQuery('allOrders', orders.getAllOrders);\r\n\r\n  const updateOrderStatus = useMutation(\r\n    async ({ orderId, status }) => {\r\n      await orders.updateStatus(orderId, { status });\r\n    },\r\n    {\r\n      onSuccess: () => {\r\n        queryClient.invalidateQueries('allOrders');\r\n        toast.success('Order status updated');\r\n      },\r\n    }\r\n  );\r\n\r\n  if (isLoading) return <LoadingSpinner />;\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"bg-white shadow overflow-hidden sm:rounded-lg\">\r\n        <div className=\"px-4 py-5 sm:px-6\">\r\n          <h3 className=\"text-lg leading-6 font-medium text-gray-900\">All Orders</h3>\r\n        </div>\r\n        <div className=\"border-t border-gray-200\">\r\n          {allOrders?.length > 0 ? (\r\n            <ul className=\"divide-y divide-gray-200\">\r\n              {allOrders.map((order) => (\r\n                <li key={order._id} className=\"px-4 py-4\">\r\n                  <div className=\"flex justify-between items-start\">\r\n                    <div>\r\n                      <div className=\"text-sm font-medium text-gray-900\">\r\n                        Order ID: {order._id}\r\n                      </div>\r\n                      <div className=\"mt-1 text-sm text-gray-500\">\r\n                        Customer: {order.user.email}\r\n                      </div>\r\n                      <div className=\"mt-1 text-sm text-gray-500\">\r\n                        Date: {new Date(order.createdAt).toLocaleDateString()}\r\n                      </div>\r\n                      <div className=\"mt-2\">\r\n                        <h4 className=\"text-sm font-medium text-gray-900\">Items:</h4>\r\n                        <ul className=\"mt-1 space-y-1\">\r\n                          {order.items.map((item) => (\r\n                            <li key={item._id} className=\"text-sm text-gray-500\">\r\n                              {item.product.name} x {item.quantity} - ${item.price * item.quantity}\r\n                            </li>\r\n                          ))}\r\n                        </ul>\r\n                      </div>\r\n                      <div className=\"mt-2 text-sm font-medium text-gray-900\">\r\n                        Total: ${order.total}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"ml-6\">\r\n                      <select\r\n                        value={order.status}\r\n                        onChange={(e) =>\r\n                          updateOrderStatus.mutate({\r\n                            orderId: order._id,\r\n                            status: e.target.value,\r\n                          })\r\n                        }\r\n                        className=\"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md\"\r\n                      >\r\n                        <option value=\"pending\">Pending</option>\r\n                        <option value=\"processing\">Processing</option>\r\n                        <option value=\"shipped\">Shipped</option>\r\n                        <option value=\"delivered\">Delivered</option>\r\n                        <option value=\"cancelled\">Cancelled</option>\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          ) : (\r\n            <div className=\"text-center py-8\">\r\n              <p className=\"text-gray-500\">No orders found</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OrderManagement; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}